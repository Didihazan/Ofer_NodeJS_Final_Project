<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Toys Store API Documentation</title>
<style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f4;
    }

        .panel {
            padding: 0 18px;
            display: none;
            background-color: white;
            overflow: hidden;
        }
        .footers {
            text-align: center;
            padding: 20px;
            background-color: #333;
            color: #d2d2d2;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
    .api-header {
      margin-top: 0;
      text-align: center;
      background-color: #333;
            color: #d2d2d2;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            border: none;
            text-align: center;
            outline: none;
            transition: 0.4s;
    }
    .active,
        .api-header:hover {
            background-color: #515050;
        }
    .api-description {
      max-width: 800px;
      margin: 20px auto;
      background-color: #fff;
      border-radius: 5px;
      padding: 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .api-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    .api-table th,
    .api-table td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    .api-table th {
      background-color: #f2f2f2;
    }
    .api-query-params,
    .api-request-body,
    .api-code-sample {
      font-family: "Courier New", Courier, monospace;
      margin: 0;
      padding: 0;
      list-style-type: none;
    }
    .api-code-sample {
      background-color: #f9f9f9;
      border: 1px solid #ccc;
      padding: 10px;
      overflow-x: auto;
      white-space: pre-wrap;
    }
    .api-code-sample pre {
      margin: 0;
    }
    .api-authentication {
      font-weight: bold;
      color: #333;
    }
    .api-authentication::before {
      content: "Authentication: ";
    }
  </style>
  
</head>
<body>
    <h1 class="api-header text-center display-3 py-5">Toys API Documentation</h1>
    <div class="api-description container mt-4">
        <button class="accordion api-header display-6">Toys Routes</button>
        <div class="panel">
            <table class="api-table table table-striped table-hover">
                <thead>
                    <tr>
                        <th>HTTP Method</th>
                        <th>Route</th>
                        <th>Description</th>
                        <th>Parameters / Request Body</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>GET</td>
                        <td>/toys/count</td>
                        <td>Returns the count of all toys in the database.</td>
                        <td>------</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/toys</td>
                        <td>Retrieves a list of all toys. Supports query parameters for filtering.</td>
                        <td>
                            <ul class="api-query-params">
                                <li><b>Query Parameters</b> (optional):
                                    <ul>
                                        <li><b>perPage</b>: Limits the number of results (e.g., perPage=5).</li>
                                        <li><b>name</b>: Filters toys by name (e.g., name=toyName).</li>
                                        <li><b>info</b>: Filters toys by info (e.g., info=toyInfo).</li>
                                        <li><b>min</b> and <b>max</b>: Filters toys by price range (e.g., min=100&amp;max=200).</li>
                                    </ul>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/toys/:_id</td>
                        <td>Retrieves a specific toy by its MongoDB ID.</td>
                        <td>
                            <ul class="api-query-params">
                                <li>_id (Path Parameter): The MongoDB ID of the toy to retrieve.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/toys/:category</td>
                        <td>Retrieves toys belonging to a specific category.</td>
                        <td>
                            <ul class="api-query-params">
                                <li>category (Path Parameter): The category of toys to retrieve.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/toys</td>
                        <td>Adds a new toy. Requires authentication.(token required)</td>
                        <td>
                            <ul class="api-request-body">
                                <li>Header: x-api-key (Authentication)</li>
                                <li>Request Body: Toy data in JSON format.</li>
                                <pre class="api-code-sample">
{
    "name": "Toy Name",
    "info": "Toy Info",
    "category": "Toy Category",
    "img_url": "https://example.com/toy.jpg",
    "price": "Toy Price"
}
                                </pre>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>PUT</td>
                        <td>/toys/:id</td>
                        <td>Updates an existing toy by ID. Requires authentication. (token required)</td>
                        <td>
                            <ul class="api-request-body">
                                <li>id (Path Parameter): ID of the toy to update.</li>
                                <li>Header: x-api-key (Authentication)</li>
                                <li>Request Body: Updated toy data in JSON format.</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>DELETE</td>
                        <td>/toys/:id</td>
                        <td>Deletes a toy by ID. Requires authentication.(token required)</td>
                        <td>
                            <ul class="api-request-body">
                                <li>id (Path Parameter): ID of the toy to delete.</li>
                                <li>Header: x-api-key (Authentication)</li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="api-description container mt-5">
        <button class="accordion api-header display-6">Users API</button>
        <div class="panel">
            <table class="api-table table table-striped table-hover">
                <thead>
                    <tr>
                        <th>HTTP Method</th>
                        <th>Route</th>
                        <th>Description</th>
                        <th>Parameters / Request Body</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>POST</td>
                        <td>/users</td>
                        <td>Registers a new user. Encrypts the password before saving to the database.</td>
                        <td>
                            <ul class="api-request-body">
                                <li>Request Body (JSON):
                                    <pre class="api-code-sample">
{
    "name": "Your Name",
    "email": "user@example.com",
    "password": "your_password",
}
                                    </pre>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/users/logIn</td>
                        <td>Authenticates a user and returns a token.</td>
                        <td>
                            <ul class="api-request-body">
                                <li>Request Body (JSON):
                                    <pre class="api-code-sample">
{
    "email": "user@example.com",
    "password": "your_password"
}
                                    </pre>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
<footer class="footers">
    Thank you for this course!
    <br> I have learned a lot and I am looking forward to the next one.
</footer>

    <script>
        var accordions = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < accordions.length; i++) {
            accordions[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                    panel.style.display = "none";
                } else {
                    panel.style.display = "block";
                }
            });
        }
    </script>
</body>


</html>
